<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Respiro</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#030717">

  <link rel="stylesheet" href="css/style.css">
</head>

<body>

  <header class="topbar">
    <h1>Respiro</h1>
    <button id="aboutBtn" class="secondary">O aplikacji</button>
    <button
      id="themeBtn"
      class="secondary"
      aria-label="Zmień motyw"
    >
      Motyw jasny
    </button>
  </header>

  <main class="container">

    <!-- Strona główna -->
    <section id="view-home" class="view active">
      <h2>Wybierz ćwiczenie</h2>
      <div id="exerciseList" class="cards"></div>
    </section>

    <!-- Szczegóły ćwiczenia -->
    <section id="view-details" class="view">
      <button id="backBtn" class="secondary">Lista ćwiczeń</button>

      <h2 id="detailsTitle"></h2>
      <div id="detailsParams" class="params"></div>
      <p id="detailsDesc"></p>

      <div class="presets">
        <p>Długość sesji:</p>

        <div class="preset-buttons">
          <button class="preset" data-preset="short">3&nbsp;minuty</button>
          <button class="preset active" data-preset="medium">5&nbsp;minut</button>
          <button class="preset" data-preset="long">10&nbsp;minut</button>

          <button id="startBtn" class="primary">Start</button>
        </div>
      </div>
    </section>

    <!-- Sesja -->
    <section id="view-session" class="view">
      <h2 id="sessionTitle"></h2>

      <button id="sessionBackBtn" class="secondary">Wstecz</button>

      <div class="visual">
        <div id="circle" class="circle">
          <p id="timer"></p>
        </div>

        <p id="phase" class="phase"></p>
      </div>

      <div class="controls">
        <button id="soundBtn" class="secondary">Dźwięk</button>
        <button id="wakeBtn" class="secondary">Blokada ekranu</button>
        <button id="fsBtn" class="secondary">Pełny ekran</button>
        <button id="stopBtn" class="primary">Zakończ</button>
      </div>
    </section>

    <!-- O aplikacji -->
    <section id="view-about" class="view">
      <button id="aboutBackBtn" class="secondary">Lista ćwiczeń</button>

      <h2>O aplikacji</h2>

      <p>
        <strong>Respiro</strong> (łac.&nbsp;<em>oddychać</em>)
        to prosta aplikacja do ćwiczeń oddechowych.
      </p>

      <p>
        Regularne ćwiczenia oddechu mogą pomóc
        w&nbsp;redukcji stresu poprawie koncentracji
        oraz jakości snu.
      </p>

      <p>
        Prezentowane ćwiczenia bazują na&nbsp;metodach
        opisywanych w&nbsp;literaturze naukowej oraz
        wykorzystywanych w&nbsp;psychologii medycynie
        i&nbsp;terapii oddechowej.
      </p>

      <p>
        Aplikacja działa w&nbsp;technologii Progressive Web App (PWA)
        i&nbsp;umożliwia instalację oraz korzystanie z&nbsp;niej
        w&nbsp;trybie aplikacji natywnej.
      </p>

      <p>
        Respiro działa również bez dostępu do&nbsp;internetu.
        Aplikację można zainstalować wybierając w&nbsp;przeglądarce
        opcję „Zainstaluj” lub „Dodaj do&nbsp;ekranu głównego”.
      </p>
    </section>

  </main>

  <div id="offlineBanner">Aplikacja jest w&nbsp;trybie offline</div>

  <script type="module" src="./src/app.js"></script>

  <!-- Rejestracja service worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('./sw.js')
          .then(reg => {
            console.log(
              'Service Worker zarejestrowany:',
              reg.scope
            );
          })
          .catch(err => {
            console.error(
              'Błąd rejestracji Service Workera:',
              err
            );
          });
      });
    }
  </script>

</body>
</html>
